### 타입

자바스크립트에는 총 7개의 타입이 존재한다.  
undefined, null, Boolean, String, Numeric ( Number와 Bight ), Object

개발자는 타입을 사용해서 값의 종류를 명시할 수 있고 메모리를 더욱 효율적으로 사용할 수 있다.

### 타입의 활용

```ts
const num: number = 123;
const str: string = "123";
function sumNum(num: number) {
  // ...
}

sumNum(num);
sumNum(str); // error
```

인자를 입력받아 로직을 수행하는 함수가 있다.  
이 때, 우리는 인자로 숫자형 타입만 받겠다고 선언을 해둔 상태이다.  
인자로 문자형 타입을 넘겨주게 되면 에러를 발생하게 된다.

이러한 코드는 기존의 자바스크렙트에서 예상치 못한 에러들을 방지하고, 사전에 예방할 수 있게 해준다.

### 타입을 사용하지 않는다면?

만약 타입을 사용하지 않고 코드를 작성하였을 때 발생할 수 있는 에러사항을 알아보도록 하자.

```ts
function double(n) {
  return n * 2;
}

double(2); // 4
double("z"); // NaN
```

우리는 `double` 함수가 호출될 때 인자로 숫자형 데이터만 넘어올것을 기대하고 코드를 작성하였다.  
하지만, 문자형을 넣어도 실행이 되고 함수의 반환값은 우리의 예상과는 다르게 동작하는것을 볼 수 있다.

#### 해결책

코드는 개발자의 의도를 알 수 없다 그렇기에 우리는 더 명확하게 인자의 타입을 지정해주어야 한다.

```ts
function double(n: number) {
  return n * 2;
}

double(2); // 4
double("z"); // error
```

타입을 숫자형으로 지정해줌으로써 예상치 못한 동작을 런타임이 아닌, 컴파일 과정에서 걸러낼 수 있다.

### Typescript의 컴파일

커파일이라 하면, 사람의 언어로 작성된 코드를 컴퓨터가 이해할 수 있는 기계어로 바꿔주는 과정을 말한다.  
하지만, 타입스크립트의 컴파일 결과는 기계어가 아닌 자바스크립트 코드이다.

#### 왜?

타입스크립트의 존재 이유는, 사람이 편하게 코드를 작성하기 위함이 아닌 자바스크립트를 사용할 때  
런타임중 발생할 수 있는 에러를 사전에 방지하기 위해 만들어진 언어이다.  
이러한 특징 때문에 타입스크립트를 컴파일 하면 타입 정보가 제거된 자바스크립트 코드만이 남게된다.

### type 작성법

typescript를 사용해야 하는 이유를 위에서 알아보았다.  
그렇다면 type 정보는 어떻게 작성할 수 있을까?

변수명 뒤에 `: type` 과 같은 방식으로 타입을 작성할 수 있다.

```ts
const num: number = 1;
const str: number = 1; // error
```

### 타입추론

typescript는 타입을 작성하지 않아도 문제없이 동작한다.
그렇다면, 어떻게 동작할지 알아보도록 하자.

```ts
let num = 1;

num = "1"; // error
```

typescript는 타입추론을 통해 타입을 유추한다,  
 num 변수를 선언할 때 숫자 값을 넘겨주었기에 해당 변수의 타입은 `number`타입이 된다.
이후에 문자열을 할당하게 되면 `number` 타입 변수에는 `string` 타입의 값을 할당할 수 없다는 에러가 발생한다.

아무것도 할당하지 않는다면 변수의 타입은 `any` 타입이 된다.

```ts
let num;

num = 1;
num = "2";
num = null;
num = undefined;
num = {};
```

### 구조적 타이핑

타입스크립트는 구조로 타입을 구분하며 이를 구조적 타이핑이라고 한다.

```ts
interface Human {
  age: number;
}

interface Developer {
  age: number;
}

let developer: Developer = { age: 22 };
let human: Human = { age: 23 };

developer = human;
human = developer;
```

### 구조적 서브타이핑

타입스크립트의 타입은 해당 값이 존재하는지 확인하는것이다.

```ts
interface Pet {
  name: string;
}
const cat = { name: "Tom", age: 2 };

let pet: Pet;

pet = cat; // cat 객체에 name 속성이 존재하기에 할당 가능
```

### 변수명 충돌

값 공간과 타입 공간의 이름은 서로 충돌하지 않는다.  
자바스크립트 코드로 컴파일 될 때 타입 정보는 지워지기 때문이다.

```ts
type Developer = { name: string };
const Developer = { name: "Tom" };
```

### 구조 분해 할당

타입스크립트에서 구조 분해 할당을 할 때 일반 자바스크립트처럼 작성하면 에러가 발생한다.

```ts
function eamil({ person: Person, subject: string, body: string }) {} // error
```

따라서 아래와 같이 작성해주어야 한다.

```ts
function email({ person, subject, body }: { person: Person; subject: string; body: string });
```

### enum

우리는 타입스크립트를 컴파일하면 타입 정보가 지워진다고 알고있다.  
하지만, 타입스크립트에선 값, 타입으로 사용되고 컴파일 이후에는 값으로 사용할 수 있는  
class와 enum이 있다.

#### enum 작성

```ts
enum Direction {
  Up, // 0
  Down, // 1
  Left, // 2
  Right, // 3
}
```

enum의 각 프로퍼티 값으로 아무런 값도 주지 않으면, 이전 값의 1씩 더해서 할당한다

#### enum을 타입으로써 활용

아래는 enum의 타입을 활용하여 주어진 요일의 청소 당번을 콘솔에 찍는 로직이다.

```ts
enum Cleaner {
  MON = "민수",
  TUES = "혜연",
  WEDNES = "철수",
  THURS = "민규",
  FRI = "재현",
}

type CleanerKey = keyof typeof Cleaner;

function printCleaner(key: CleanerKey): void {
  const day = Cleaner[key];
  console.log(day);
}

printCleaner("TUES");
```

#### enum을 값으로써 활용하기

```ts
enum Colors {
  RED = "#FF0000",
  BLUE = "#0000FF",
}

function whatRedColor(color: { RED: string }): void {
  console.log(color.RED);
}

whatRedColor(Colors);
```

### 타입 확인하는 법

타입스크립트에서는 값과 타입에 따라 typeof 연산자의 역할이 달라진다.  
값에서 쓰일때는 자바스크립트 typeof 연산자로 사용되고,  
타입에서 쓰일때는 타입스크립트의 type을 반환한다.

```ts
interface Person {
  name: string;
  age: number;
}

const person: Person = { name: "John", age: 22 };

const type1 = typeof person; // object
type type2 = typeof person; // Person
```
